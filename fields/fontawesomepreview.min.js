/**
* @package		mod_bpicon
* @date			2016-05-27
* @author		Artur Stępień
* @email		artur.stepien@bestproject.pl
* @copyright	(C) 2016 Bestproject. All rights reserved.
* @license		GNU General Public License version 3 or later; see http://www.gnu.org/licenses/gpl-3.0.txt
* @link			http://www.bestproject.pl
**/
(function(a){a.fn.FontAwesomeDrawPreview=function(i,c,h,g){var b=a("#FontAwesomePreview");var e=function(j){var k=[];a.ajax({url:"https://maxcdn.bootstrapcdn.com/font-awesome/"+c+"/css/font-awesome.min.css",async:false,success:function(q){var o=q.match(/\.fa\-[a-z0-9\-]{1,}/g);for(var n=0,l=o.length;n<l;n++){o[n]=o[n].substring(4);var m=o[n];if(k.indexOf(m)<0&&n>33){var p=a('<i class="fa fa-'+m+'" data-fa="'+m+'"></i>');j.append(p)}}}})};var d=function(){if(b.length===0){b=a('<div id="FontAwesomePreview"><div class="toolbar"><div class="input-append pull-left"><input type="text" placeholder="'+h+'"/><button class="btn btn-default btn-reset" type="button"><i class="fa fa-close"></i></button></div><button class="btn btn-default pull-right">'+g+'</button></div><div class="list"></div></div>');a("body").append(b);var j=a("#FontAwesomePreview .list");b.hide();a("#FontAwesomePreview .btn-default.pull-right").click(function(){a("#FontAwesomePreview").hide()});var k=function(){if(a.trim(this.value).length){console.log("search:"+this.value);a("#FontAwesomePreview .list .fa").each(function(){a(this).hide()});a("#FontAwesomePreview .list").find('.fa[data-fa*="'+this.value+'"]').show()}else{a("#FontAwesomePreview .list .fa").each(function(){a(this).show()})}};a("#FontAwesomePreview input").keyup(k);a("#FontAwesomePreview input").change(k);a("#FontAwesomePreview .btn-reset").click(function(){a("#FontAwesomePreview input").val("");a("#FontAwesomePreview input").trigger("change");a("#FontAwesomePreview input").focus().select()});e(j)}};var f=function(k,j){b.show();b.animate({scrollTop:0},"fast");b.find(".list,.toolbar").animate({scrollTop:0},"fast");a("#FontAwesomePreview .list .fa.selected").removeClass("selected");a("#FontAwesomePreview .list .fa.fa-"+j).addClass("selected");a("#FontAwesomePreview .fa").click(function(){var l=a(this).data("fa");a("#"+k).val(l);a("#"+k+"-preview").attr("class","fa fa-"+l);a("#FontAwesomePreview").hide()})};d();f(i,a("#"+i).val())}}(jQuery));
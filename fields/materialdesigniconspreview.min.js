/**
* @package		mod_bpicon
* @date			2016-05-27
* @author		Artur Stępień
* @email		artur.stepien@bestproject.pl
* @copyright	(C) 2016 Bestproject. All rights reserved.
* @license		GNU General Public License version 3 or later; see http://www.gnu.org/licenses/gpl-3.0.txt
* @link			http://www.bestproject.pl
**/
(function(a){a.fn.MaterialDesignIconsDrawPreview=function(h,g,f){var b=a("#MaterialDesignIconsPreview");var d=function(i){var j=[];a.ajax({url:"https://raw.githubusercontent.com/google/material-design-icons/master/iconfont/codepoints",async:false,success:function(p){var n=p.match(/(^|\s)[a-zA-Z0-9_]{1,} /g);for(var m=0,k=n.length;m<k;m++){var l=a.trim(n[m]);var o=a('<i class="material-icons" data-ico="'+l+'">'+l+"</i>");i.append(o)}}})};var c=function(){if(b.length===0){b=a('<div id="MaterialDesignIconsPreview"><div class="toolbar"><div class="input-append pull-left"><input type="text" placeholder="'+g+'"/><button class="btn btn-default btn-reset" type="button"><i class="material-icons">close</i></button></div><button class="btn btn-default pull-right">'+f+'</button></div><div class="list"></div></div>');a("body").append(b);var i=a("#MaterialDesignIconsPreview .list");b.hide();a("#MaterialDesignIconsPreview .btn-default.pull-right").click(function(){a("#MaterialDesignIconsPreview").hide()});var j=function(){if(a.trim(this.value).length){console.log("search:"+this.value);a("#MaterialDesignIconsPreview .list .material-icons").each(function(){a(this).hide()});a("#MaterialDesignIconsPreview .list").find('.material-icons[data-ico*="'+this.value+'"]').show()}else{a("#MaterialDesignIconsPreview .list .material-icons").each(function(){a(this).show()})}};a("#MaterialDesignIconsPreview input").keyup(j);a("#MaterialDesignIconsPreview input").change(j);a("#MaterialDesignIconsPreview .btn-reset").click(function(){a("#MaterialDesignIconsPreview input").val("");a("#MaterialDesignIconsPreview input").trigger("change");a("#MaterialDesignIconsPreview input").focus().select()});d(i)}};var e=function(j,i){b.show();b.animate({scrollTop:0},"fast");b.find(".list,.toolbar").animate({scrollTop:0},"fast");a("#MaterialDesignIconsPreview .list .material-icons.selected").removeClass("selected");a('#MaterialDesignIconsPreview .list .material-icons[data-ico="'+i+'"]').addClass("selected");a("#MaterialDesignIconsPreview .material-icons").click(function(){var k=a(this).data("ico");a("#"+j).val(k);a("#"+j+"-preview").text(k);a("#MaterialDesignIconsPreview").hide()})};c();e(h,a("#"+h).val())}}(jQuery));